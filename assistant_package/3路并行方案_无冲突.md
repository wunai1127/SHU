# 3è·¯å¹¶è¡ŒæŠ½å– - æ•°æ®åˆ†é…æ–¹æ¡ˆ

## ğŸ“Š æ•°æ®åˆ†é…ï¼ˆæ— å†²çªï¼‰

| è¿è¡Œä½ç½® | æ•°æ®èŒƒå›´ | æ–‡ç« æ•°é‡ | æ¯”ä¾‹ | æ£€æŸ¥ç‚¹æ–‡ä»¶ |
|---------|---------|---------|------|-----------|
| **æœ¬æœºï¼ˆå½“å‰ï¼‰** | 1-12216 | 12,216ç¯‡ | 50% | `cache/extraction_checkpoint.json` |
| **VSCode** | 12217-18324 | 6,108ç¯‡ | 25% | `cache/vscode_checkpoint.json` |
| **åŠ©æ‰‹** | 18325-24432 | 6,108ç¯‡ | 25% | `cache/assistant_checkpoint.json` |
| **æ€»è®¡** | 1-24432 | 24,432ç¯‡ | 100% | - |

## âœ… ä¸ºä»€ä¹ˆä¸ä¼šå†²çªï¼Ÿ

### 1. æ£€æŸ¥ç‚¹æ–‡ä»¶å®Œå…¨ç‹¬ç«‹
```
cache/extraction_checkpoint.json  â† æœ¬æœº
cache/vscode_checkpoint.json      â† VSCodeï¼ˆæ–°ï¼‰
cache/assistant_checkpoint.json   â† åŠ©æ‰‹
```
ä¸‰ä¸ªæ–‡ä»¶äº’ä¸å¹²æ‰°

### 2. ç¼“å­˜æ–‡ä»¶æŒ‰article_idå‘½å
```
cache/llm_raw_outputs/41123465_raw.json
cache/parsed_triples/41123465_triples.json
```
åªè¦ä¸‰æ–¹å¤„ç†ä¸åŒçš„æ–‡ç« ï¼ˆèŒƒå›´ä¸é‡å ï¼‰ï¼Œå°±ä¸ä¼šè¦†ç›–

### 3. æ•°æ®èŒƒå›´å®Œå…¨ä¸é‡å 
- æœ¬æœºï¼š1-12216 âœ…
- VSCodeï¼š12217-18324 âœ…
- åŠ©æ‰‹ï¼š18325-24432 âœ…
- æ— äº¤é›† = æ— å†²çª

## ğŸš€ å¯åŠ¨æ–¹å¼

### 1. æœ¬æœºï¼ˆå·²å¯åŠ¨ï¼‰
```bash
# å·²åœ¨è¿è¡Œï¼ˆPID: 3834ï¼‰
ps aux | grep robust_extract.py
tail -f logs/main_extraction.log
```

### 2. VSCodeï¼ˆä½ ç°åœ¨å¯åŠ¨ï¼‰
```bash
# åœ¨VSCodeç»ˆç«¯è¿è¡Œ
cd /home/user/SHU
python3 automated_kg_pipeline/vscode_extract.py

# æˆ–åå°è¿è¡Œ
nohup python3 -u automated_kg_pipeline/vscode_extract.py > logs/vscode_extraction.log 2>&1 &
```

### 3. åŠ©æ‰‹ï¼ˆå‘ç»™åŠ©æ‰‹ï¼‰
```bash
# æ›´æ–°åŠ©æ‰‹ä»£ç åŒ…
tar -xzf assistant_package_v2.tar.gz
cd assistant_package/automated_kg_pipeline
python3 assistant_extract.py
```

## ğŸ“ˆ é¢„æœŸå®Œæˆæ—¶é—´

### ä¸²è¡Œï¼ˆåŸè®¡åˆ’ï¼‰
- æœ¬æœºå¤„ç†å‰åŠï¼ˆ12216ç¯‡ï¼‰ï¼š51å°æ—¶
- åŠ©æ‰‹å¤„ç†ååŠï¼ˆ12216ç¯‡ï¼‰ï¼š51å°æ—¶
- **æ€»è®¡**: 51å°æ—¶ï¼ˆå¹¶è¡Œï¼‰

### 3è·¯å¹¶è¡Œï¼ˆæ–°æ–¹æ¡ˆï¼‰
- æœ¬æœºï¼š12216ç¯‡ Ã· 0.007ç¯‡/ç§’ â‰ˆ **25.5å°æ—¶**
- VSCodeï¼š6108ç¯‡ Ã· 0.007ç¯‡/ç§’ â‰ˆ **12.2å°æ—¶**
- åŠ©æ‰‹ï¼š6108ç¯‡ Ã· 0.007ç¯‡/ç§’ â‰ˆ **12.2å°æ—¶**
- **æ€»è®¡**: ~25.5å°æ—¶ï¼ˆå–æœ€æ…¢çš„ï¼‰

**åŠ é€Ÿæ¯”**: 51å°æ—¶ â†’ 25.5å°æ—¶ï¼ˆ**å¿«2å€**ï¼‰

## ğŸ’° æˆæœ¬ä¼°ç®—

| è¿è¡Œä½ç½® | æ–‡ç« æ•°é‡ | APIè°ƒç”¨ | é¢„è®¡æˆæœ¬ |
|---------|---------|---------|----------|
| æœ¬æœº | 12,216ç¯‡ | ~9.7M tokens | ~10å…ƒ |
| VSCode | 6,108ç¯‡ | ~4.9M tokens | ~5å…ƒ |
| åŠ©æ‰‹ | 6,108ç¯‡ | ~4.9M tokens | ~5å…ƒ |
| **æ€»è®¡** | 24,432ç¯‡ | ~19.5M tokens | **~20å…ƒ** |

## ğŸ“ ç”Ÿæˆçš„æ–‡ä»¶

### ç¼“å­˜æ–‡ä»¶ï¼ˆå…±äº«ï¼‰
```
cache/
â”œâ”€â”€ llm_raw_outputs/        # 24432ä¸ªæ–‡ä»¶ï¼ˆæ‰€æœ‰åŸå§‹LLMè¾“å‡ºï¼‰
â”œâ”€â”€ parsed_triples/         # 24432ä¸ªæ–‡ä»¶ï¼ˆæ‰€æœ‰ä¸‰å…ƒç»„ï¼‰
â”œâ”€â”€ extraction_checkpoint.json   # æœ¬æœºæ£€æŸ¥ç‚¹
â”œâ”€â”€ vscode_checkpoint.json       # VSCodeæ£€æŸ¥ç‚¹
â””â”€â”€ assistant_checkpoint.json    # åŠ©æ‰‹æ£€æŸ¥ç‚¹
```

### æ—¥å¿—æ–‡ä»¶ï¼ˆç‹¬ç«‹ï¼‰
```
logs/
â”œâ”€â”€ main_extraction.log      # æœ¬æœºæ—¥å¿—
â”œâ”€â”€ vscode_extraction.log    # VSCodeæ—¥å¿—
â””â”€â”€ assistant_extraction.log # åŠ©æ‰‹æ—¥å¿—
```

## ğŸ” ç›‘æ§è¿›åº¦

### æ€»ä½“è¿›åº¦
```bash
# ç»Ÿè®¡æ€»æ–‡ä»¶æ•°
ls cache/parsed_triples/ | wc -l

# åº”è¯¥é€æ­¥å¢é•¿åˆ°24432
```

### å„ç«¯è¿›åº¦
```bash
# æœ¬æœºè¿›åº¦
cat cache/extraction_checkpoint.json | grep -o '"processed_ids"' | wc -l

# VSCodeè¿›åº¦
cat cache/vscode_checkpoint.json | grep -o '"processed_ids"' | wc -l

# åŠ©æ‰‹è¿›åº¦
cat cache/assistant_checkpoint.json | grep -o '"processed_ids"' | wc -l
```

### å®æ—¶æ—¥å¿—
```bash
# æœ¬æœº
tail -f logs/main_extraction.log

# VSCode
tail -f logs/vscode_extraction.log

# åŠ©æ‰‹
tail -f logs/assistant_extraction.log
```

## âš ï¸ æ³¨æ„äº‹é¡¹

### 1. API Keyé…ç½®
- æœ¬æœºå’ŒVSCodeå…±ç”¨åŒä¸€ä¸ªconfig.yamlï¼ˆç›¸åŒAPI keyï¼‰
- åŠ©æ‰‹éœ€è¦ç‹¬ç«‹çš„API keyï¼ˆæˆ–å…±ç”¨ï¼Œä½†æ³¨æ„å¹¶å‘é™æµï¼‰

### 2. é€Ÿåº¦é™åˆ¶
- DeepSeek APIé™æµï¼š60 req/min
- 3è·¯å¹¶è¡Œï¼šæ¯è·¯1 req/ç§’ï¼ˆå®‰å…¨ï¼‰
- æ€»è®¡ï¼š3 req/ç§’ï¼ˆä»åœ¨é™åˆ¶å†…ï¼‰

### 3. ä½™é¢ç›‘æ§
- 3è·¯å¹¶è¡Œæ¶ˆè€—æ›´å¿«
- å»ºè®®å……å€¼30å…ƒï¼ˆé¢„ç•™10å…ƒbufferï¼‰

### 4. ç½‘ç»œç¨³å®šæ€§
- 3è·¯éƒ½éœ€è¦ç¨³å®šç½‘ç»œ
- å»ºè®®åœ¨æœåŠ¡å™¨/ç¨³å®šç¯å¢ƒè¿è¡Œ

## âœ… å¯åŠ¨æ£€æŸ¥æ¸…å•

### æœ¬æœº
- [x] å·²å¯åŠ¨ï¼ˆPID: 3834ï¼‰
- [x] å¤„ç†èŒƒå›´ï¼š1-12216
- [x] æ£€æŸ¥ç‚¹ï¼šextraction_checkpoint.json

### VSCode
- [ ] è„šæœ¬åˆ›å»ºï¼švscode_extract.py âœ…
- [ ] å¯åŠ¨å‘½ä»¤ï¼š`python3 automated_kg_pipeline/vscode_extract.py`
- [ ] å¤„ç†èŒƒå›´ï¼š12217-18324
- [ ] æ£€æŸ¥ç‚¹ï¼švscode_checkpoint.json

### åŠ©æ‰‹
- [ ] æ›´æ–°è„šæœ¬ï¼šassistant_extract.pyï¼ˆèŒƒå›´æ”¹ä¸º18325-24432ï¼‰
- [ ] æ‰“åŒ…å‘é€ï¼šassistant_package_v2.tar.gz
- [ ] å¤„ç†èŒƒå›´ï¼š18325-24432
- [ ] æ£€æŸ¥ç‚¹ï¼šassistant_checkpoint.json

## ğŸ¯ å®Œæˆæ ‡å¿—

å½“æ‰€æœ‰3è·¯éƒ½å®Œæˆæ—¶ï¼š
```bash
ls cache/parsed_triples/ | wc -l
# è¾“å‡ºï¼š24432

# æ£€æŸ¥æ˜¯å¦æœ‰é—æ¼
for i in {1..24432}; do
  if [ ! -f "cache/parsed_triples/${i}_triples.json" ]; then
    echo "ç¼ºå¤±: $i"
  fi
done
```

---

**å…³é”®ä¼˜åŠ¿**: ä»51å°æ—¶ç¼©çŸ­åˆ°~25å°æ—¶ï¼Œæˆæœ¬ä¸å˜ï¼Œæ— å†²çªé£é™©ï¼
